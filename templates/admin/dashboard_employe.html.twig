{% extends '@EasyAdmin/page/content.html.twig' %}
{% block content_title %}Dashboard employé{% endblock %}
{% block page_actions %}
    <a class="btn btn-primary" href="#">Some Action</a>
{% endblock %}
{% block main %}
    <p class="col-11">
        Le tableau de bord de l'employé offre un ensemble d'outils 
        essentiels pour gérer efficacement les tâches opérationnelles. 
        Depuis cet espace centralisé, les employés peuvent gérer les 
        avis des clients, générer des rapports de distribution de nourriture, 
        traiter les e-mails des clients et effectuer des modifications 
        rapides sur les services proposés. Avec une interface conviviale 
        et des fonctionnalités intuitives, le dashboard simplifie les 
        opérations quotidiennes, permettant ainsi aux employés de se concentrer 
        sur l'optimisation de l'expérience client et le bon fonctionnement 
        de l'établissement.
    </p>
    <table class="datagrid">
        <thead>
            <tr>
                <td>Dernier rapport nourriture</td>
                <td>Dernier Mail client reçu</td>
                <td>Dernier Avis client reçu</td>
            </tr>
        </thead>
        <tbody>
            <td class="p-2">
                <div class="card rounded" style="width: 20rem;">
                    <img src="{{ '/img/'~ lastRapNourriture.animal.img[0] }}" class="card-img-top" alt="{{ lastRapNourriture.animal.name }}">
                    <div class="card-body">
                        <h4 class="card-title">{{ lastRapNourriture.animal.name }}</h4>
                        <h5>{{ lastRapNourriture.animal.species }} </h5>
                        <p class="card-text m-0 fw-bold">Nourriture</p>
                        <p class="card-text m-0">{{ lastRapNourriture.nourriture }}</p> 
                        <p class="card-text m-0 fw-bold">Quantité en g</p>
                        <p class="card-text m-0"> {{ lastRapNourriture.qte }}</p>
                        <p class="card-text m-0 fw-bold">Date</p>
                        <p class="card-text m-0">{{ lastRapNourriture.date|date('d/m/Y') }} | {{ lastRapNourriture.time|date('H:i:s') }} </p>
                    </div>
                </div>
            </td>
            <td class="p-2">
                <div class="card rounded" style="width: 20rem;">
                    <div class="card-body">
                        <h4 class="card-title">{{ lastMailClient.title }}</h4>
                        <h5>{{ lastMailClient.mail }}</h5>
                        <p class="card-text m-0 fw-bold">Message</p>
                        <p class="card-text m-0">{{ lastMailClient.text }}</p>
                        <p class="card-text m-0 fw-bold">Date</p>
                        <p class="card-text m-0">{{ lastMailClient.date|date('d/m/Y') }}</p>
                    </div>
                </div>
            </td>
            <td class="p-2">
                <div class="card rounded" style="width: 20rem;">
                    <div class="card-body">
                        <h4 class="card-title">{{ lastAvisClient.pseudo }}</h4>
                        <p class="card-text m-0 fw-bold">Message</p>
                        <p class="card-text m-0">{{ lastAvisClient.text }}</p>
                        <p class="card-text m-0 fw-bold">Date</p>
                        <p class="card-text m-0">{{ lastAvisClient.date|date('d/m/Y') }}</p>
                        <p class="card-text m-0 fw-bold">Validation</p>
                        <div class="card-text m-0">
                            {% if lastAvisClient.valide == null %}
                                <div class="d-flex justify-content-between">
                                    <p>Non validé</p>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-record-fill text-danger" viewBox="0 0 16 16">
                                        <circle cx="8" cy="8" r="8"/>
                                    </svg>
                                </div>
                            {% endif %}
                            {% if lastAvisClient.valide == true %}
                                <div class="d-flex justify-content-between">
                                    <p>Avis validé</p>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-record-fill text-success" viewBox="0 0 16 16">
                                        <circle cx="8" cy="8" r="8"/>
                                    </svg>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </td>
        </tbody>
    </table>
{% endblock %}